services:
  commerce_currency_resolver.current_currency:
    class: Drupal\commerce_currency_resolver\CurrentCurrency
    arguments: ['@language_manager', '@request_stack']

  commerce_currency_resolver.price_resolver:
    class: Drupal\commerce_currency_resolver\Resolver\CommerceCurrencyResolver
    arguments: ['@commerce_currency_resolver.current_currency']
    tags:
     - { name: commerce_price.price_resolver, priority: 1000 }

  commerce_currency_resolver.exchange_rate_ecb:
    class: Drupal\commerce_currency_resolver\EventSubscriber\ExchangeRateECB
    tags:
      - { name: event_subscriber }

  commerce_currency_resolver.exchange_rate_fixer:
    class: Drupal\commerce_currency_resolver\EventSubscriber\ExchangeRateFixer
    tags:
      - { name: event_subscriber }

  commerce_currency_resolver.exchange_rate_fixer_paid:
    class: Drupal\commerce_currency_resolver\EventSubscriber\ExchangeRateFixerPaid
    tags:
      - { name: event_subscriber }

  cache_context.currency_resolver:
    class: Drupal\commerce_currency_resolver\Cache\Context\CurrencyCacheContext
    arguments: ['@commerce_currency_resolver.current_currency']
    tags:
      - { name: cache.context}
